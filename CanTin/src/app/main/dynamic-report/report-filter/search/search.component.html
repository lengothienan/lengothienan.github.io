<!-- <div class="row">
    <div class="col-md-12 col-lg-12">
        <div class="card card-outline-info">
            <ul id=rowtab class="nav nav-tabs customtab" role="tablist">
                <li>
                    <a id='keytab1' class="nav-link" data-toggle="tab" href="#tab1" [class.active]="currentTab == 1"
                        (click)="onSelectTab(1)">
                        <span class="hidden-sm-up"></span>
                        <span class="hidden-xs-down">Cấu hình tiêu chí báo cáo</span>
                    </a>
                </li>
                <li>
                    <a id='keytab2' class="nav-link" data-toggle="tab" href="#tab2" [class.active]="currentTab == 2"
                        (click)="onSelectTab(2)">
                        <span class="hidden-sm-up"></span>
                        <span class="hidden-xs-down">Cấu hình cột báo cáo</span>
                    </a>
                </li>
                <li>
                    <a id='keytab3' class="nav-link" data-toggle="tab" href="#tab3" [class.active]="currentTab == 3"
                        (click)="onSelectTab(3)">
                        <span class="hidden-sm-up"></span>
                        <span class="hidden-xs-down">Kiểu tra SQL</span>
                    </a>
                </li>
                <li>
                    <a id='keytab4' class="nav-link" data-toggle="tab" href="#tab4" [class.active]="currentTab == 4"
                        (click)="onSelectTab(4)">
                        <span class="hidden-sm-up"></span>
                        <span class="hidden-xs-down">Cấu hình chart</span>
                    </a>
                </li>
            </ul>
            <div class="tab-content">
                <div id="tab1" class="tab-pane" role='tabpanel' [class.active]="currentTab == 1">
                    <div>
                        <div class="row">
                            <div class="col-12">
                                <div class="card card-outline-info">
                                    <div class="card-body">
                                        <div class="row mb-1">
                                            <div class="col-12">
                                                <dx-button text="Thêm mới" icon="fa fa-plus" style="margin-right: 5px;"
                                                    type="success" (onClick)="add()"></dx-button>
                                                <dx-button text="Quay lại" icon="fa fa-arrow-left" (onClick)="back()">
                                                </dx-button>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <dx-data-grid #reportDg [dataSource]="dataSourceTab1"
                                                    [showRowLines]="true" [showBorders]="true" [wordWrapEnabled]="true"
                                                    (onContentReady)="onContentReady_UnitGroup($event)"
                                                    (onRowPrepared)="onRowPrepared_UnitGroup($event)">
                                                    <dxi-column caption="STT" width="60" dataType="number"
                                                        alignment="center" cellTemplate="sttCellTemplate"></dxi-column>
                                                    <dxi-column caption="Control" dataType="string"
                                                        dataField="controlName" width="150"></dxi-column>
                                                    <dxi-column caption="Tiêu chí" dataType="string"
                                                        dataField="reportFilterName"></dxi-column>
                                                    <dxi-column caption="Code" dataType="string" dataField="code"
                                                        width="100"></dxi-column>
                                                    <dxi-column caption="Kiểu dữ liệu" dataField="dataType"
                                                        dataType="string" width="100" cellTemplate="datatypeTemplate">
                                                    </dxi-column>
                                                    <dxi-column caption="Danh mục" dataType="string"
                                                        dataField="lookupName" width="100"></dxi-column>
                                                    <dxi-column caption="Service" dataType="string"
                                                        dataField="serviceName" width="100"></dxi-column>
                                                    <dxi-column caption="Chỉ đọc" dataType="boolean" dataField="disable"
                                                        width="100" cellTemplate="DisableTemplate"></dxi-column>
                                                    <dxi-column caption="Bắt buộc" dataType="boolean"
                                                        dataField="required" width="100"
                                                        cellTemplate="RequiredTemplate"></dxi-column>
                                                    <dxi-column caption="Chiều rộng" dataType="number" dataField="width"
                                                        width="100"></dxi-column>
                                                    <dxi-column caption="Định dạng" dataType="string" dataField="format"
                                                        width="100"></dxi-column>
                                                    <dxi-column caption="Hoạt động" width="60" dataField="isActive"
                                                        dataType="boolean" alignment="center"
                                                        cellTemplate="activeTemplate"></dxi-column>

                                                    <dxi-column caption="Chi tiết" width="60" dataField="id"
                                                        alignment="center" cellTemplate="detailTemplate"></dxi-column>
                                                    <dxi-column caption="Xóa" width="60" alignment="center"
                                                        dataField="id" cellTemplate="deleteTemplate"></dxi-column>

                                                    <div *dxTemplate="let d of 'sttCellTemplate'">
                                                        <div> {{d.rowIndex + 1}}</div>
                                                    </div>

                                                    <div *dxTemplate="let cell of 'activeTemplate'">
                                                        <i *ngIf="cell.value==true" class="fa fa-check-circle"
                                                            style="color:green;"></i>
                                                        <i *ngIf="cell.value==false" class="fa fa-check-circle"
                                                            style="color:gray;"></i>
                                                    </div>
                                                    <div *dxTemplate="let cell of 'DisableTemplate'">
                                                        <i *ngIf="cell.value==true" class="fa fa-check-circle"
                                                            style="color:green;"></i>
                                                        <i *ngIf="cell.value==false" class="fa fa-check-circle"
                                                            style="color:gray;"></i>
                                                    </div>
                                                    <div *dxTemplate="let cell of 'RequiredTemplate'">
                                                        <i *ngIf="cell.value==true" class="fa fa-check-circle"
                                                            style="color:green;"></i>
                                                        <i *ngIf="cell.value==false" class="fa fa-check-circle"
                                                            style="color:gray;"></i>
                                                    </div>
                                                    <div *dxTemplate="let cell of 'datatypeTemplate'">
                                                        <span *ngIf="cell.data.dataType==true"> lookup</span>
                                                        <span *ngIf="cell.data.dataType==false">service</span>
                                                    </div>

                                                    <div *dxTemplate="let cell of 'detailTemplate'">
                                                        <i class="fa fa-list-alt"
                                                            style="color:#1876d3; cursor: pointer;"
                                                            (click)="detail(cell.value)"></i>
                                                    </div>

                                                    <div *dxTemplate="let cell of 'deleteTemplate'">
                                                        <i class="fa fa-times"
                                                            style="color:red; cursor: pointer;"
                                                            (click)="delete(cell.value)"></i>
                                                    </div>
                                                    <dxo-paging [pageSize]="50" [pageIndex]="1"></dxo-paging>
                                                    <dxo-pager visible="true" infoText="Trang {0} trên {1} ({2} dòng)"
                                                        [allowedPageSizes]="[20, 50, 100]" [showPageSizeSelector]="true"
                                                        [showInfo]="true"></dxo-pager>
                                                </dx-data-grid>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div id="tab2" class="tab-pane" role='tabpanel' [class.active]="currentTab == 2">
                    <div class="row" style="margin: 20px">
                        <h3>{{reportName}}</h3>
                        <div class="col-md-12">
                            <dx-text-area [height]="150" [(value)]="sqlContent"></dx-text-area>
                        </div>
                        <div class="col-md-12 justify-content-center"
                            style="margin-top: 20px; text-align: center;margin-bottom: 50px;">
                            <dx-button text="Kiểm tra" icon="fa fa-check-circle" style="margin-right: 5px;"
                                type="success" (onClick)="check()"></dx-button>
                            <dx-button text="Tạo cột" icon="fa fa-plus" type="success" style="margin-right: 5px;"
                                (onClick)="createColumn()"></dx-button>
                            <dx-button text="Lưu" icon="fa fa-save" type="success" style="margin-right: 5px;"
                                (onClick)="save()"></dx-button>
                            <dx-button text="Quay lại" icon="fa fa-arrow-left" (onClick)="back()"></dx-button>
                        </div>
                        <div class="col-md-12">
                            <dx-data-grid #data2table [showRowLines]="true" [showBorders]="true"
                                [allowColumnResizing]="true" [columnAutoWidth]="true"
                                (onRowUpdated)="onCreateColumnRowUpdated($event)"
                                (onRowUpdating)="onCreateColumnRowUpdating($event)" [dataSource]="dataSourceTab2">
                                <dxo-editing mode="batch" [allowUpdating]="true">
                                </dxo-editing>
                                <dxi-column caption="Code" [allowEditing]="false" width="100" dataField="code">
                                    <dxi-validation-rule type="required"></dxi-validation-rule>
                                </dxi-column>
                                <dxi-column caption="Tên" width="200" dataField="name">
                                </dxi-column>

                                <dxi-column caption="Kiểu dữ liệu" dataField="type" width="150">
                                    <dxo-lookup [dataSource]="_dataType" displayExpr="display" valueExpr="key"
                                        showClearButton='true'>
                                    </dxo-lookup>
                                </dxi-column>
                                <dxi-column caption="Định dạng" width="100" dataField="format" dataType="string">
                                </dxi-column>
                                <dxi-column caption="Độ rộng" width="100" dataField="width" dataType="number">
                                </dxi-column>
                                <dxi-column caption="Group level" width="100" dataField="groupLevel" dataType="number">
                                    <dxo-lookup [dataSource]="groupLeveldata" displayExpr="display" valueExpr="key"
                                        showClearButton='true'>
                                    </dxo-lookup>
                                </dxi-column>
                                <dxi-column caption="Sắp xếp" width="100" dataField="groupSort" dataType="number">
                                    <dxo-lookup [dataSource]="groupSortdata" displayExpr="display" valueExpr="key"
                                        showClearButton='true'>
                                    </dxo-lookup>
                                </dxi-column>
                                <dxi-column caption="Thứ tự cột" width="100" dataField="colNum" dataType="number">
                                </dxi-column>
                                <dxi-column caption="Căn lề" alignment="right" dataField="textAlign" [width]="125">
                                    <dxo-lookup [dataSource]="textAlignment" displayExpr="display" valueExpr="key"
                                        showClearButton='true'>
                                    </dxo-lookup>
                                </dxi-column>
                                <dxi-column caption="Hoạt động" width="100" dataField='isActive' dataType="boolean"
                                    alignment="center">
                                </dxi-column>
                                <dxi-column caption="Hiển thị" width="100" dataField="isDisplay" dataType="boolean"
                                    alignment="center">
                                </dxi-column>
                                <dxi-column caption="Is Sum" width="100" dataField='isSum' dataType="boolean"
                                    alignment="center">
                                </dxi-column>
                            </dx-data-grid>
                        </div>
                    </div>
                </div>
                <div id="tab3" class="tab-pane" role='tabpanel' [class.active]="currentTab == 3">
                    <h3 style="margin: 20px">{{reportName}}</h3>
                    <div class="row" style="margin: 20px">
                        <div class="col-md-12">
                            <dx-form [(formData)]="formData" #form [items]="listItem"
                                validationGroup="formValidateGroup" colCount="4" style="margin-bottom: 20px">

                            </dx-form>
                        </div>
                        <div class="col-md-12">
                            <dx-text-area placeholder="Type a text here..." [height]="150" [(value)]="sqlContent">
                            </dx-text-area>
                        </div>
                        <div class="col-md-12 justify-content-center"
                            style="margin-top: 20px; text-align: center;margin-bottom: 50px;">
                            <dx-button text="Kiểm tra" icon="fa fa-check-circle" style="margin-right: 5px;"
                                type="success" (onClick)="check()"></dx-button>
                            <dx-button text="Chạy thử" icon="fa fa-plus" type="success" style="margin-right: 5px;"
                                (onClick)="testSQL()"></dx-button>
                            <dx-button text="Cập nhật" icon="fa fa-save" type="success" style="margin-right: 5px;"
                                (onClick)="updateSQL()"></dx-button>
                            <dx-button text="Quay lại" icon="fa fa-arrow-left" (onClick)="back()"></dx-button>
                        </div>
                        <div class="col-md-12">
                            <dx-data-grid [visible]="tbTestVisible3" [dataSource]="dataSourceTest3"
                                [showRowLines]="true" [showBorders]="true" [allowColumnResizing]="true"
                                [columnAutoWidth]="true">
                                <dxo-paging [pageSize]="pageSize" [pageIndex]="pageIndex"></dxo-paging>
                                <dxo-pager visible="true" infoText="Trang {0} trên {1} ({2} dòng)"
                                    [allowedPageSizes]="[20, 50, 100]" [showPageSizeSelector]="true" [showInfo]="true">
                                </dxo-pager>
                            </dx-data-grid>
                        </div>
                    </div>
                </div>
                <div id="tab4" class="tab-pane" role="tabpanel" [class.active]="currentTab==4">
                    <div class="row" style="margin:20px">
                        <div class="col-md-12">
                            <form style="margin:20px" (submit)="SaveChart()">
                                <dx-form id="form" [(formData)]="templateChartData" colCount="4">
                                    <dxi-item dataField="argumentField" [colSpan]="4">
                                        <dxo-label text="Trường hiển thị "></dxo-label>
                                    </dxi-item>
                                    <dxi-item dataField="seriesField" [colSpan]="4">
                                        <dxo-label text="Trường danh sách tiêu chí"></dxo-label>
                                    </dxi-item>
                                    <dxi-item dataField="valueField" [colSpan]="4">
                                        <dxo-label text="Trường giá trị"></dxo-label>
                                    </dxi-item>

                                </dx-form>

                                <div class="row justify-content-center" style="margin-top:20px">
                                    <dx-button text="Lưu" icon="fa fa-save" type="success" [useSubmitBehavior]="true">
                                    </dx-button>
                                    &nbsp;
                                    <dx-button text="Trở về" icon="fa fa-arrow-left" (onClick)="back()"></dx-button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> -->
<div class="row">
    <div class="col-md-12 col-lg-12">
        <dx-tab-panel [dataSource]="tabs" [selectedIndex]="0" (onSelectionChanged)="onSelectTab($event)">
            <div *dxTemplate="let company of 'templ1'">
                <div>
                    <div class="row">
                        <div class="col-12">
                            <div class="card card-outline-info">
                                <div class="card-body">
                                    <div class="row mb-1">
                                        <div class="col-12">
                                            <dx-button text="Thêm mới" icon="fa fa-plus" style="margin-right: 5px;"
                                                type="success" (onClick)="add()"></dx-button>
                                            <dx-button text="Quay lại" icon="fa fa-arrow-left" (onClick)="back()">
                                            </dx-button>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <dx-data-grid #reportDg [dataSource]="dataSourceTab1" [showRowLines]="true"
                                                [showBorders]="true" [wordWrapEnabled]="true"
                                                (onContentReady)="onContentReady_UnitGroup($event)"
                                                (onRowPrepared)="onRowPrepared_UnitGroup($event)">
                                                <dxi-column caption="STT" width="60" dataType="number"
                                                    alignment="center" cellTemplate="sttCellTemplate"></dxi-column>
                                                <dxi-column caption="Control" dataType="string" dataField="controlName"
                                                    width="150"></dxi-column>
                                                <dxi-column caption="Tiêu chí" dataType="string"
                                                    dataField="reportFilterName"></dxi-column>
                                                <dxi-column caption="Code" dataType="string" dataField="code"
                                                    width="100"></dxi-column>
                                                <dxi-column caption="Kiểu dữ liệu" dataField="dataType"
                                                    dataType="string" width="100" cellTemplate="datatypeTemplate">
                                                </dxi-column>
                                                <dxi-column caption="Danh mục" dataType="string" dataField="lookupName"
                                                    width="100"></dxi-column>
                                                <dxi-column caption="Service" dataType="string" dataField="serviceName"
                                                    width="100"></dxi-column>
                                                <dxi-column caption="Chỉ đọc" dataType="boolean" dataField="disable"
                                                    width="100" cellTemplate="DisableTemplate"></dxi-column>
                                                <dxi-column caption="Bắt buộc" dataType="boolean" dataField="required"
                                                    width="100" cellTemplate="RequiredTemplate"></dxi-column>
                                                <dxi-column caption="Chiều rộng" dataType="number" dataField="width"
                                                    width="100"></dxi-column>
                                                <dxi-column caption="Định dạng" dataType="string" dataField="format"
                                                    width="100"></dxi-column>
                                                <dxi-column caption="Hoạt động" width="60" dataField="isActive"
                                                    dataType="boolean" alignment="center" cellTemplate="activeTemplate">
                                                </dxi-column>

                                                <dxi-column caption="Chi tiết" width="60" dataField="id"
                                                    alignment="center" cellTemplate="detailTemplate"></dxi-column>
                                                <dxi-column caption="Xóa" width="60" alignment="center" dataField="id"
                                                    cellTemplate="deleteTemplate"></dxi-column>

                                                <div *dxTemplate="let d of 'sttCellTemplate'">
                                                    <div> {{d.rowIndex + 1}}</div>
                                                </div>

                                                <div *dxTemplate="let cell of 'activeTemplate'">
                                                    <i *ngIf="cell.value==true" class="fa fa-check-circle"
                                                        style="color:green;"></i>
                                                    <i *ngIf="cell.value==false" class="fa fa-check-circle"
                                                        style="color:gray;"></i>
                                                </div>
                                                <div *dxTemplate="let cell of 'DisableTemplate'">
                                                    <i *ngIf="cell.value==true" class="fa fa-check-circle"
                                                        style="color:green;"></i>
                                                    <i *ngIf="cell.value==false" class="fa fa-check-circle"
                                                        style="color:gray;"></i>
                                                </div>
                                                <div *dxTemplate="let cell of 'RequiredTemplate'">
                                                    <i *ngIf="cell.value==true" class="fa fa-check-circle"
                                                        style="color:green;"></i>
                                                    <i *ngIf="cell.value==false" class="fa fa-check-circle"
                                                        style="color:gray;"></i>
                                                </div>
                                                <div *dxTemplate="let cell of 'datatypeTemplate'">
                                                    <span *ngIf="cell.data.dataType==true"> lookup</span>
                                                    <span *ngIf="cell.data.dataType==false">service</span>
                                                </div>

                                                <div *dxTemplate="let cell of 'detailTemplate'">
                                                    <i class="fa fa-list-alt" style="color:#1876d3; cursor: pointer;"
                                                        (click)="detail(cell.value)"></i>
                                                </div>

                                                <div *dxTemplate="let cell of 'deleteTemplate'">
                                                    <i class="fa fa-times" style="color:red; cursor: pointer;"
                                                        (click)="delete(cell.value)"></i>
                                                </div>
                                                <dxo-paging [pageSize]="50" [pageIndex]="1"></dxo-paging>
                                                <dxo-pager visible="true" infoText="Trang {0} trên {1} ({2} dòng)"
                                                    [allowedPageSizes]="[20, 50, 100]" [showPageSizeSelector]="true"
                                                    [showInfo]="true"></dxo-pager>
                                            </dx-data-grid>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div *dxTemplate="let company of 'templ2'">
                <div class="row" style="margin: 20px">
                    <h3>{{reportName}}</h3>
                    <div class="col-md-12">
                        <dx-text-area [height]="150" [(value)]="sqlContent"></dx-text-area>
                    </div>
                    <div class="col-md-12 justify-content-center"
                        style="margin-top: 20px; text-align: center;margin-bottom: 50px;">
                        <dx-button text="Kiểm tra" icon="fa fa-check-circle" style="margin-right: 5px;" type="success"
                            (onClick)="check()"></dx-button>
                        <dx-button text="Tạo cột" icon="fa fa-plus" type="success" style="margin-right: 5px;"
                            (onClick)="createColumn()"></dx-button>
                        <dx-button text="Lưu" icon="fa fa-save" type="success" style="margin-right: 5px;"
                            (onClick)="save()"></dx-button>
                        <dx-button text="Quay lại" icon="fa fa-arrow-left" (onClick)="back()"></dx-button>
                    </div>
                    <div class="col-md-12">
                        <dx-data-grid #data2table [showRowLines]="true" [showBorders]="true" [paging]="{enabled:false}"
                            [allowColumnResizing]="true" [columnAutoWidth]="true"
                            (onRowUpdated)="onCreateColumnRowUpdated($event)"
                            (onRowUpdating)="onCreateColumnRowUpdating($event)" [dataSource]="dataSourceTab2">
                            <dxo-editing mode="batch" [allowUpdating]="true">
                            </dxo-editing>
                            <dxi-column caption="Code" [allowEditing]="false" width="100" dataField="code">
                                <dxi-validation-rule type="required"></dxi-validation-rule>
                            </dxi-column>
                            <dxi-column caption="Tên" dataField="name">
                            </dxi-column>

                            <dxi-column caption="Kiểu dữ liệu" dataField="type" width="150">
                                <dxo-lookup [dataSource]="_dataType" displayExpr="display" valueExpr="key"
                                    showClearButton='true'>
                                </dxo-lookup>
                            </dxi-column>
                            <dxi-column caption="Service" dataField="serviceId" width="200" [editorOptions]="{
                                'showClearButton': true
                            }">
                                <dxo-lookup [dataSource]="_drService" displayExpr="name" valueExpr="id"
                                    showClearButton='true'>
                                </dxo-lookup>
                            </dxi-column>
                            <dxi-column caption="Xác thực" dataField="validationRule" width="300"
                                editCellTemplate="validationRuleTemplate">

                            </dxi-column>
                            <dxi-column caption="Định dạng" width="100" dataField="format" dataType="string">
                            </dxi-column>
                            <dxi-column caption="Độ rộng" width="100" dataField="width" dataType="number">
                            </dxi-column>
                            <dxi-column caption="Group level" width="100" dataField="groupLevel" dataType="number">
                                <dxo-lookup [dataSource]="groupLeveldata" displayExpr="display" valueExpr="key"
                                    showClearButton='true'>
                                </dxo-lookup>
                            </dxi-column>
                            <dxi-column caption="Group sort by column" width="200" dataField="sortByColumn"
                                dataType="string">
                                <dxo-lookup [dataSource]="groupLevelSortData" displayExpr="name" valueExpr="code"
                                    showClearButton='true'>
                                </dxo-lookup>
                            </dxi-column>
                            <dxi-column caption="Parent code" width="100" dataField="parentCode">
                            </dxi-column>
                            <dxi-column caption="Sắp xếp" width="100" dataField="groupSort" dataType="number">
                                <dxo-lookup [dataSource]="groupSortdata" displayExpr="display" valueExpr="key"
                                    showClearButton='true'>
                                </dxo-lookup>
                            </dxi-column>
                            <dxi-column caption="Thứ tự cột" width="100" dataField="colNum" dataType="number">
                            </dxi-column>
                            <dxi-column caption="Căn lề" alignment="right" dataField="textAlign" [width]="125">
                                <dxo-lookup [dataSource]="textAlignment" displayExpr="display" valueExpr="key"
                                    showClearButton='true'>
                                </dxo-lookup>
                            </dxi-column>
                            <dxi-column caption="Hoạt động" width="100" dataField='isActive' dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <dxi-column caption="Hiển thị" width="100" dataField="isDisplay" dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <dxi-column caption="Is Sum" width="100" dataField='isSum' dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <dxi-column caption="Is Parent" width="100" dataField='isParent' dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <dxi-column caption="Read Only" width="100" dataField='isReadOnly' dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <dxi-column caption="Export" width="100" dataField='isExport' dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <dxi-column caption="Is FreePane" width="100" dataField='isFreePane' dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <dxi-column caption="Visible" width="100" dataField='visible' dataType="boolean"
                                alignment="center">
                            </dxi-column>
                            <!-- Template -->
                            <div *dxTemplate="let cellInfo of 'validationRuleTemplate'">
                                <dx-tag-box [value]="cellInfo.value" valueExpr="id" displayExpr="name"
                                    [searchEnabled]="true" [dataSource]="validationRuleDataSource"
                                    (onValueChanged)="cellInfo.setValue($event.value)"
                                    (onSelectionChanged)="cellInfo.component.updateDimensions()"></dx-tag-box>
                            </div>

                        </dx-data-grid>
                    </div>
                </div>
            </div>
            <div *dxTemplate="let company of 'templ3'">
                <h3 style="margin: 20px">{{reportName}}</h3>
                <div class="row" style="margin: 20px">
                    <div class="col-md-12">
                        <dx-form [(formData)]="formData" #form [items]="listItem" validationGroup="formValidateGroup"
                            colCount="4" style="margin-bottom: 20px">

                        </dx-form>
                    </div>
                    <div class="col-md-12">
                        <dx-text-area placeholder="Type a text here..." [height]="150" [(value)]="sqlContent">
                        </dx-text-area>
                    </div>
                    <div class="col-md-12 justify-content-center"
                        style="margin-top: 20px; text-align: center;margin-bottom: 50px;">
                        <dx-button text="Kiểm tra" icon="fa fa-check-circle" style="margin-right: 5px;" type="success"
                            (onClick)="check()"></dx-button>
                        <dx-button text="Chạy thử" icon="fa fa-plus" type="success" style="margin-right: 5px;"
                            (onClick)="testSQL()"></dx-button>
                        <dx-button text="Cập nhật" icon="fa fa-save" type="success" style="margin-right: 5px;"
                            (onClick)="updateSQL()"></dx-button>
                        <dx-button text="Quay lại" icon="fa fa-arrow-left" (onClick)="back()"></dx-button>
                    </div>
                    <div class="col-md-12">
                        <dx-data-grid [visible]="tbTestVisible3" [dataSource]="dataSourceTest3" [showRowLines]="true"
                            [showBorders]="true" [allowColumnResizing]="true" [columnAutoWidth]="true">
                            <dxo-paging [pageSize]="pageSize" [pageIndex]="pageIndex"></dxo-paging>
                            <dxo-pager visible="true" infoText="Trang {0} trên {1} ({2} dòng)"
                                [allowedPageSizes]="[20, 50, 100]" [showPageSizeSelector]="true" [showInfo]="true">
                            </dxo-pager>
                        </dx-data-grid>
                    </div>
                </div>
            </div>
            <div *dxTemplate="let company of 'templ4'">
                <div class="row" style="margin:20px">
                    <div class="col-md-12">
                        <form style="margin:20px" (submit)="SaveChart()">
                            <dx-form id="form" [(formData)]="templateChartData" colCount="4">
                                <dxi-item dataField="argumentField" [colSpan]="4">
                                    <dxo-label text="Trường hiển thị "></dxo-label>
                                </dxi-item>
                                <dxi-item dataField="seriesField" [colSpan]="4">
                                    <dxo-label text="Trường danh sách tiêu chí"></dxo-label>
                                </dxi-item>
                                <dxi-item dataField="valueField" [colSpan]="4">
                                    <dxo-label text="Trường giá trị"></dxo-label>
                                </dxi-item>

                            </dx-form>

                            <div class="row justify-content-center" style="margin-top:20px">
                                <dx-button text="Lưu" icon="fa fa-save" type="success" [useSubmitBehavior]="true">
                                </dx-button>
                                &nbsp;
                                <dx-button text="Trở về" icon="fa fa-arrow-left" (onClick)="back()"></dx-button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </dx-tab-panel>
    </div>
</div>