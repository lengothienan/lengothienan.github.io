<div [@routerTransition]>
    <div class="kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor">
        <div class="kt-subheader kt-grid__item">
          <div [class]="containerClass">
            <div class="kt-subheader__main">
                <h3 class="kt-subheader__title">
                    <span>{{l("Thông tin chi tiết văn bản đến")}}</span>
                </h3>
                <!-- <span class="kt-subheader__separator kt-subheader__separator--v"></span> -->
                <!-- <span class="kt-subheader__desc">
                    {{l("SchedulesHeaderInfo")}}
                </span> -->
                <!-- <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Tiếp nhận văn bản</li>
                    </ol>
                </nav> -->
            </div>
            <div class="kt-subheader__toolbar">
                <div class="kt-subheader__wrapper">
                    <button class="btn btn-outline-success"><i class="fa fa-file-excel"></i> {{l("ExportToExcel")}}</button>
                    <!-- <button *ngIf="isGranted('Pages.Schedules.Create')"  class="btn btn-primary blue"><i class="fa fa-plus"></i> {{l("CreateNewSchedule")}}</button> -->

                </div>
            </div>
          </div>
        </div>
        <div [class]="containerClass + ' kt-grid__item kt-grid__item--fluid'">
            <div class="kt-portlet kt-portlet--mobile">
                <div class="modal-body">
                            <div class="col-xl-12" style = "padding-bottom: 17px;padding-left:0;">

                                    <dx-button text="Trở về" type="success" icon="fa fa-arrow-left" onclick="window.history.go(-1); return false;"></dx-button>
                                    &nbsp;
                                    <!-- <dx-button text="Thêm mới" type="success" icon="fa fa-plus" (onClick)="addMove()"  > </dx-button> -->
                                    <dx-button text="Lưu" type="success" icon="save" (onClick)="addMove()" > </dx-button>
                                    &nbsp;
                                    <dx-button text="Lưu và chuyển" type="success" icon="download" (onClick)="addRecevie()" > </dx-button>
                                    &nbsp;
                                    <dx-button text="Phiếu trình" type="success" icon="comment" onclick="window.history.go(1); return false;"></dx-button>
                                    &nbsp;
                                    <dx-button text="Thêm mới" type="success" icon="plus" onclick="window.history.go(-1); return false;"></dx-button>
                                    &nbsp;
                                    <!-- <dx-button text="Thêm mới" type="success" icon="fa fa-plus" (onClick)="addMove()"  > </dx-button> -->
                                    <dx-button text="Nhìn giống VB trước" type="success" icon="floppy" (onClick)="addMove()" > </dx-button>
                                    &nbsp;
                            </div>

                    <dx-form [formData]="documentData" [showValidationSummary]="true" validationGroup="formValidateGroup">
                        <dxi-item itemType="group" caption="Thông tin văn bản" colCount="4" cssClass="item-bold">

                            <dxi-item dataField="blockID" [colSpan]="2" >
                                <dxo-label text="Số văn bản đến"></dxo-label>
                                <dxi-validation-rule message="Số tờ trình đến"></dxi-validation-rule>
                            </dxi-item>

                            <dxi-item dataField="blockID" [colSpan]="2" >
                                    <dxo-label text="Độ khẩn"></dxo-label>
                                    <dxi-validation-rule  message="Thường"></dxi-validation-rule>
                                </dxi-item>

                                <dxi-item dataField="blockID" [colSpan]="2" >
                                        <dxo-label text="Số đến"></dxo-label>
                                        <dxi-validation-rule message="430"></dxi-validation-rule>
                                    </dxi-item>

                            <dxi-item dataField="startTime" [colSpan]="2" editorType="dxDateBox">
                                <dxo-label text="Ngày đến" ></dxo-label>
                                <dxi-validation-rule  message="Vui lòng chọn giờ bắt đầu!"></dxi-validation-rule>

                            </dxi-item>

                            <dxi-item dataField="blockID" [colSpan]="2" >
                                    <dxo-label text="Số kí hiệu"></dxo-label>
                                    <dxi-validation-rule  message="12/TTr-BTG"></dxi-validation-rule>
                                </dxi-item>

                                <dxi-item dataField="startTime" [colSpan]="2" editorType="dxDateBox">
                                 <dxo-label text="Ngày văn bản" required></dxo-label>
                                 <dxi-validation-rule  message="Vui lòng chọn giờ bắt đầu!"></dxi-validation-rule>

                             </dxi-item>
                                    <dxi-item dataField="blockID" [colSpan]="2" >
                                  <dxo-label text="Tên loại văn bản"></dxo-label>
                                 <dxi-validation-rule  message="Tờ trình"></dxi-validation-rule>
                              </dxi-item>

                             <dxi-item dataField="blockID" [colSpan]="2" >
                                   <dxo-label text="Lĩnh vực"></dxo-label>
                                 <dxi-validation-rule  message=""></dxi-validation-rule>
                                 </dxi-item>
                             <dxi-item dataField="blockID" [colSpan]="2" >
                            <dxo-label text="Người ký"></dxo-label>
                             <dxi-validation-rule  message=""></dxi-validation-rule>
                             </dxi-item>
                            <dxi-item dataField="blockID" [colSpan]="2" >
                               <dxo-label text="Chức vụ "></dxo-label>
                               <dxi-validation-rule  message=""></dxi-validation-rule>
                                 </dxi-item>

                                <dxi-item dataField="blockID" [colSpan]="4" >
                                 <dxo-label text="Tác giả "></dxo-label>
                                  <dxi-validation-rule  message=""></dxi-validation-rule>
                                 </dxi-item>

                                <dxi-item dataField="blockID" [colSpan]="4" >
                                  <dxo-label text="Trích yếu"></dxo-label>
                                 <dxi-validation-rule  message=""></dxi-validation-rule>
                              </dxi-item>
                            <dxi-item dataField="Place3" [colSpan]="2">
                                <dxo-label text="Trích yếu"></dxo-label>
                                <dx-check-box [value]="false" text="Giấy " > </dx-check-box>

                                <dx-check-box [value]="false" text="Mail " > </dx-check-box>

                                <dx-check-box [value]="false" text="Qua mạng " > </dx-check-box>
                            </dxi-item>
                            <dxi-item dataField="blockID" [colSpan]="2" >
                                    <dxo-label text="Số tờ"></dxo-label>
                                    <dxi-validation-rule  message=""></dxi-validation-rule>
                                </dxi-item>

                            <dxi-item dataField="Place1" [colSpan]="4">
                                <dxo-label text="Văn bản liên kết"></dxo-label>
                                <dxi-validation-rule  message="Vui lòng chọn địa điểm!"></dxi-validation-rule>
                            </dxi-item>
                            <dxi-item dataField="Place2" [colSpan]="3">
                                <dxo-label text="Tập tin "></dxo-label>
                                <dxi-validation-rule  message="Vui lòng chọn địa điểm!"></dxi-validation-rule>
                            </dxi-item>
                        </dxi-item>

                        <dxi-item itemType="group" caption="Thông tin xử lý" colCount="4" cssClass="item-bold">

                            <dxi-item dataField="startTime" [colSpan]="4" editorType="dxDateBox">
                            <dxo-label text="Hạn xử lý" ></dxo-label>
                            <dxi-validation-rule message="Vui lòng chọn giờ bắt đầu!"></dxi-validation-rule>

                             </dxi-item>
                            <dxi-item dataField="OutDoor" [colSpan]="4" editorType="dxTextArea"
                                    [editorOptions]="{ height: 90 }">
                                    <dxo-label text="Ý kiến xử lý "></dxo-label>
                                </dxi-item>
                            </dxi-item>

                    </dx-form>
                    <dx-form [formData]="documentData" [showValidationSummary]="true" validationGroup="formValidateGroup">
                            <dxi-item itemType="group" caption="Tiến độ xử lý" colCount="4" cssClass="item-bold">
                                    <dx-data-grid #gridContainer
                                    id="gridContainer"
                                    [height]="500"
                                    [(selectedRowKeys)]="selectedRows"
                                    (onSelectionChanged)="selectionChangedHandler()"

                                    [remoteOperations]="false"
                                    [allowColumnReordering]="true"
                                    [rowAlternationEnabled]="true"
                                    [showBorders]="true">
                                    <dxo-selection
                                        mode="multiple">
                                    </dxo-selection>
                                    <dxo-paging [pageSize]="10"></dxo-paging>
                                    <dxo-pager
                                        [showPageSizeSelector]="true"
                                        [allowedPageSizes]="[10, 25, 50, 100]"
                                    ></dxo-pager>
                                    <!-- <dxi-column type="buttons"  caption="Chi tiết">
                                        <dxi-button icon="fa fa-list-alt"></dxi-button>
                                    </dxi-column> -->


                                    <dxi-column dataField="NguoiXuLy" [minWidth]="120" ></dxi-column>
                                    <dxi-column dataField="NgayXuLy" dataType="date"[minWidth]="80" ></dxi-column>
                                    <dxi-column dataField=" " dataType="date"[minWidth]="80" ></dxi-column>
                                    <dxi-column dataField="ThongTinXuLy" [minWidth]="120" ></dxi-column>
                                    <dxi-column dataField="TinhTrang" cellTemplate="progressBarTemplate" [minWidth]="120" ></dxi-column>

                                    <dxi-column dataField="#" [width]="150" ></dxi-column>
                                    <dxi-column dataField="xuLy" cellTemplate="progressBarTemplate" [minWidth]="120" ></dxi-column>
                                    <div *dxTemplate="let d of 'CustomTemplate'">
                                        <div class="btn-group dropdown" dropdown container="body">
                                            <button class="dropdown-toggle btn btn-sm btn-primary" dropdownToggle>
                                                <i class="fa fa-cog"></i><span class="caret"></span>
                                            </button>
                                                <ul class="dropdown-menu"  *dropdownMenu>
                                                <li>
                                                    <a href="javascript:;" (click)="viewRow(d)" >{{l('View')}}</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:;" (click)="editRow(d)" >{{l('Edit')}}</a>
                                                </li>
                                                <li>
                                                    <a href="javascript:;" (click)="deleteRow(d)" >{{l('Delete')}}</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>

                                </dx-data-grid>
                    </dxi-item>

                    </dx-form>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).on('click', '.panel-heading.clickable', function(e){
    var $this = $(this);
    if(!$this.hasClass('panel-collapsed')) {
		$this.parents('.panel').find('.panel-body').slideUp();
		$this.addClass('panel-collapsed');
		$this.find('i').removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');

	} else {
		$this.parents('.panel').find('.panel-body').slideDown();
		$this.removeClass('panel-collapsed');
		$this.find('i').removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');

	}
})
</script>
