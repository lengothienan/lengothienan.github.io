<style>
    .dx-field-label {
        width: 20%;
    }
    .dx-field-value:not(.dx-switch):not(.dx-checkbox):not(.dx-button), .dx-field-value-static{
        width: 80%;
    }

</style>
<div [@routerTransition]>
    <div class="kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor">
        <div class="kt-subheader kt-grid__item">
            <div [class]="containerClass">
                <div class="kt-subheader__main">
                    <h3 class="kt-subheader__title">
                        <span>{{"In Sổ Văn Bản"}}</span>
                    </h3>
                </div>
            </div>
        </div>
        <div [class]="containerClass + ' kt-grid__item kt-grid__item--fluid'">
            <div class="kt-portlet kt-portlet--mobile">
                <div class="modal-body">
                    <div class="row" style="margin-left: 20px;">
                        <div class="col-md-4 col-xs-6 col-lg-4">
                            <div class="dx-field-label">Loại</div>
                            <div class="dx-field-value">
                                <dx-select-box #typeExport
                                    text="In theo"
                                    id="typeExport"
                                    [items]="data_typeExport" 
                                    valueExpr="key" 
                                    displayExpr="type" 
                                    [(value)]="typeValue"
                                    (onValueChanged)="typeChangedOption($event)">
                                </dx-select-box>
                            </div>
                        </div>
                        <div class="col-md-4 col-xs-6 col-lg-4">
                            <div class="dx-field-label">{{fromLabel}}</div>
                            <div class="dx-field-value" id="firstElement">
                                <div id="fromValue"></div>
                            </div>
                        </div>
                        <div class="col-xs-4 col-xs-6 col-lg-4" id="toValueDiv">
                            <div class="dx-field-label">{{toLabel}}</div>
                            <div class="dx-field-value" id="secondElement">
                                <div id="toValue"></div>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="row" style="margin-left: 20px;">
                        <div class="col-md-4 col-xs-6 col-lg-4">
                            <div class="dx-field-label">Loại Sổ</div>
                            <div class="dx-field-value">
                                <dx-select-box #bookType
                                    id="bookType"
                                    [items]="data_bookType" 
                                    valueExpr="id" 
                                    displayExpr="name" 
                                    [(value)]="bookTypeVal"
                                    (onValueChanged)="onValueChanged($event)">
                                </dx-select-box>
                            </div>
                        </div>
                        <div class="col-md-4 col-xs-6 col-lg-4" *ngIf="isSecretValue">
                            <div class="dx-field-label">Độ mật</div>
                            <div class="dx-field-value">
                                <dx-select-box #secretLevel
                                    id="secretLevel"
                                    [items]="data_secretLevel" 
                                    valueExpr="key" 
                                    displayExpr="value" 
                                    showClearButton="true"
                                    [(value)]="secretLevelVal">
                                </dx-select-box>
                            </div>
                        </div>
                        <div class="col-md-4 col-xs-6 col-lg-4">
                            <div class="dx-field-label">Cấp gửi</div>
                            <div class="dx-field-value">
                                <dx-select-box #publisherLEVEL dataField="orgLevelId"
                                    id="orgLevel"
                                    [items]="orgLevel" 
                                    valueExpr="id" 
                                    displayExpr="name" 
                                    [searchEnabled]="true" 
                                    [searchExpr]="['name']"
                                    showClearButton="true"
                                    [(value)]="orgLevelId">
                                </dx-select-box>
                            </div>
                        </div>
                        
                    </div>
                    <br>
                    <div class="row" style="margin-left: 20px;">
                        <div class="col-md-4 col-xs-6 col-lg-4">
                            <div class="dx-field-label">Loại VB</div>
                            <div class="dx-field-value">
                                <dx-select-box #publisherLEVEL dataField="orgLevelId"
                                    id="orgLevel"
                                    [items]="documentTypeOptions" 
                                    valueExpr="id" 
                                    displayExpr="typeName" 
                                    [searchEnabled]="true" 
                                    [searchExpr]="['typeName', 'signal']"
                                    [(value)]="documentType">
                                </dx-select-box>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="padding-top: 20px; padding-bottom: 20px;">
                        <div class="col-5">
                        </div>
                        <div class="col-md-auto col2" >
                            <dx-button text="Xem" type="success" icon="search" (onClick)="showGrid()"> </dx-button>
                        </div>
                        <div class="col-md-auto col2" >
                            <dx-button text="In" type="success" icon="print" (onClick)="print()"> </dx-button>
                        </div>
                        <div class="col-4">
                        </div>
                    </div>

                    <div class="row align-items-center">
                        <div class="col primeng-datatable-container" >
                            <dx-data-grid #gridContainer *ngIf="gridDiv" id="gridContainer" [showColumnLines]="true"
                                [remoteOperations]="false" [allowColumnReordering]="true" [rowAlternationEnabled]="true"
                                [showBorders]="true" [allowColumnResizing]="true" [columnAutoWidth]="true"
                                [dataSource]="initialData" [width]="'100%'" [wordWrapEnabled]="true"
                                (onToolbarPreparing)="onToolbarPreparing($event)">
                                <!-- <dxo-selection mode="multiple"> </dxo-selection> -->
                                <!-- <dxo-export [enabled]="true" fileName="Documents" [allowExportSelectedData]="true"></dxo-export> -->
                                <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[50, 100]"
                                    [showInfo]="true"></dxo-pager>
                                
                                <dxo-filter-row [visible]="false"></dxo-filter-row>
                                <dxo-paging [pageSize]="50"></dxo-paging>
                                
                                <!-- <dxi-column type="selection" [width]="3+'%'"></dxi-column> -->
                                <dxi-column dataField="stt" columnIndex="1" caption="STT" alignment="center" [width]="5+'%'"></dxi-column>
                                <dxi-column columnIndex="2" alignment="center" [width]="'10%'"  dataField="incommingDate" caption="Ngày tháng đến"></dxi-column>
                                <dxi-column columnIndex="3" alignment="center" [width]="'5%'" dataField="incommingNumber" caption="Số đến"></dxi-column>
                                <dxi-column columnIndex="4" alignment="center" [width]="'10%'" dataField="number" caption="Số, ký hiệu văn bản"></dxi-column>
                                <dxi-column columnIndex="5" alignment="center" [width]="'10%'" dataField="publishDate" caption="Ngày tháng văn bản"></dxi-column>
                                <dxi-column columnIndex="6" alignment="center" [width]="'10%'" dataField="publisherName" caption="Nơi gửi văn bản"></dxi-column>
                                <dxi-column columnIndex="7" alignment="center" [width]="'20%'" dataField="summary" cellTemplate="summaryTemplate" caption="Tên loại và nội dung trích yếu"></dxi-column>
                                <dxi-column columnIndex="8" alignment="center"  [visible]="secretCol" [width]="'10%'" dataField="secretLevel" caption="Độ mật văn bản"></dxi-column>
                                <dxi-column columnIndex="9" alignment="center" [width]="'10%'" dataField="signer" caption="Người ký"></dxi-column>
                                <dxi-column columnIndex="10" alignment="center" [width]="'20%'" dataField="processingAndAprovingRecommended" cellTemplate="summaryTemplate" 
                                    caption="Ý kiến chỉ đạo của lãnh đạo"></dxi-column>
                                <dxi-column columnIndex="11" alignment="center" [width]="'10%'" dataField="dvxl" caption="Đơn vị thực hiện"></dxi-column>
                                <!-- <dxi-column columnIndex="11" alignment="center" [width]="'5%'" dataField="" caption="Ghi chú"></dxi-column> -->

                                <div *dxTemplate="let data of 'totalGroupCount'">
                                    <div style="font-style: italic;">
                                        <span>Có <b>{{totalCount}}</b> kết quả tìm kiếm</span>
                                    </div>
                                </div>

                                <div *dxTemplate="let d of 'summaryTemplate'">
                                    <div placement="bottom" [tooltip]="tooltipTemplate" style="max-height: 70px; text-align: justify;" [innerHTML]="d.value">
                                    </div>

                                    <ng-template #tooltipTemplate>
                                        <div [innerHTML]="d.value">
                                        </div>
                                    </ng-template>
                                </div>

                                    
                            </dx-data-grid>
                        </div>
                    </div>   
                </div>
                 
                <div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* .dx-field-label{
        width: 100px;
    } */
</style>