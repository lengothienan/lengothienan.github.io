<style>
    .num-noti {
        color: red;
        font-size: 0.95rem;
        margin-left: 0.5rem;
    }

    div.outofdate-container>a {
        color: white;
    }
    div.total-container > a{
        color: white !important;
    }

    .kt-menu__link-text {
        display: inline-block;
    }

    .num-container {
        display: flex;
        right: 0;
        position: absolute;
    }

    .total-container {
        border-radius: 0.4rem;
        min-width: 1.4rem;
        height: 1.2rem;
        text-align: center;
        margin: auto;
        background-color: #4d94ec;
    }

    .outofdate-container {
        margin-right: 0.2rem !important;
        border-radius: 0.4rem;
        min-width: 1.4rem;
        height: 1.2rem;
        text-align: center;
        margin: auto;
        background-color: #dc4a4a;
    }

    .outofdate-container:hover {
        background-color: #f50808;
    }

    .total-container:hover {
        background-color: #0e71ea;
    }

    span.kt-menu__link-icon {
        color: black;
    }

    i.kt-menu__link-icon {
        color: black;
    }

    span.kt-menu__link-text {
        color: black;
    }

    span.kt-menu__link-text ng-star-inserted {
        color: black;
    }
</style>
<!-- BEGIN: Aside Menu -->
<!-- <div [class]="'kt-aside-menu-wrapper kt-grid__item kt-grid__item--fluid kt-aside-menu-' + currentTheme.baseSettings.menu.asideSkin" id="kt_aside_menu_wrapper">
    <div #asideMenu ktMenu [options]="menuOptions" [perfectScrollbar]="{wheelPropagation: false}"
        [ngStyle]="{'max-height': '90vh', 'position': 'relative'}" id="kt_aside_menu" class="kt-aside-menu"
        [attr.data-ktmenu-vertical]="1" [attr.data-ktmenu-scroll]="ui.getIsMenuScrollable() ? 1 : 0"
        [attr.data-ktmenu-dropdown]="ui.isSubmenuToggleDropdown() ? 1 : 0" (mouseenter)="mouseEnter($event)"
        (mouseleave)="mouseLeave($event)" [class]="ui.getLeftAsideClass()">
        <ul class="kt-menu__nav" class="kt-menu__nav">
            <li  class="kt-menu__item kt-menu__item--submenu" aria-haspopup="true"
                data-ktmenu-submenu-toggle="hover" *ngIf="currentTheme.baseSettings.menu.searchActive">
                <menu-search-bar></menu-search-bar>
            </li>
            <ng-container [ngTemplateOutlet]="menuListTemplate"></ng-container>
        </ul>
    </div>
</div> -->
<div class="kt-aside-menu-wrapper kt-grid__item kt-grid__item--fluid" id="kt_aside_menu_wrapper">
    <div #asideMenu ktMenu [options]="menuOptions" [perfectScrollbar]="{wheelPropagation: true}" [ngStyle]="{'max-height': '90vh', 'position': 'relative', 'overflow-y': 'hidden'}" id="kt_aside_menu" class="kt-aside-menu" [attr.data-ktmenu-vertical]="1" [attr.data-ktmenu-scroll]="ui.getIsMenuScrollable() ? 1 : 0"
        [attr.data-ktmenu-dropdown]="ui.isSubmenuToggleDropdown() ? 1 : 0" (mouseenter)="mouseEnter($event)" (mouseleave)="mouseLeave($event)" [class]="ui.getLeftAsideClass()">
        <ul class="kt-menu__nav" class="kt-menu__nav">
            <ng-container [ngTemplateOutlet]="menuListTemplate"></ng-container>
        </ul>
    </div>
</div>

<ng-template #menuListTemplate>

    <ng-container *ngFor="let child of menu.items">
        <ng-container *ngIf="showMenuItem(child)" [ngTemplateOutlet]="mMenuItem" [ngTemplateOutletContext]="{ item: child, parentItem: child.parent }"></ng-container>
    </ng-container>
</ng-template>

<ng-template #mMenuItem let-item="item" let-parentItem="parentItem">
    <li *ngIf="showMenuItem(item)" class="{{ui.getSideBarMenuItemClass(item, isMenuItemIsActive(item))}}" aria-haspopup="true" data-ktmenu-submenu-toggle="hover">

        <!-- if menu item hasn't submenu -->
        <a *ngIf="!item.items.length && !item.external" [routerLink]="item.route" [queryParams]="item.rawSql" class="kt-menu__link">
            <ng-container [ngTemplateOutlet]="mMenuItemText" [ngTemplateOutletContext]="{ item: item, parentItem: parentItem }"></ng-container>
        </a>
        <a *ngIf="!item.items.length && item.external" [routerLink]="item.route" [queryParams]="item.parameters" target="_blank" class="kt-menu__link kt-menu__toggle" >
            <ng-container [ngTemplateOutlet]="mMenuItemText" [ngTemplateOutletContext]="{ item: item, parentItem: parentItem }"></ng-container>
        </a>

        <!-- if menu item has submenu child  -->
        <a href="javascript:;" *ngIf="item.items.length" class="kt-menu__link kt-menu__toggle">
            <ng-container [ngTemplateOutlet]="mMenuItemText" [ngTemplateOutletContext]="{ item: item, parentItem: parentItem }"></ng-container>
        </a>

        <!-- if menu item has submenu child then recursively call new menu item component -->
        <div *ngIf="item.items.length" class="kt-menu__submenu">
            <span class="kt-menu__arrow"></span>
            <ul class="kt-menu__subnav">
                <ng-container *ngFor="let child of item.items">
                    <ng-container [ngTemplateOutlet]="mMenuItem" [ngTemplateOutletContext]="{ item: child, parentItem: item }"></ng-container>
                </ng-container>
            </ul>
        </div>
    </li>
    <!-- <li>
        <a *ngIf="!item.items.length && !item.external" routerLink="/app/main/dynamicreport/report/detail/DSVBCDCVTCATPDPH" [queryParams]="{publishtype  :1}" class="kt-menu__link">fasdfs</a>
    </li> -->
</ng-template>

<ng-template #mMenuItemText let-item="item" let-parentItem="parentItem">
    <span class="kt-menu__item-here"></span>
    <!-- if menu item has icon -->
    <span class="kt-menu__link-icon" *ngIf="item.icon" [ngStyle]="checkIcon(item.cssIconFormat)">
        <i class="kt-menu__link-icon" [ngClass]="item.icon" [ngStyle]="checkIcon(item.cssIconFormat)"></i>
    </span>

    <ng-container *ngIf="!item.badge; else mMenuLinkBadge">
        <!-- menu item title text -->

        <!-- <span class="kt-menu__link-text" *ngIf="item.numNoti > 0 && item.countOutOfDate < 1">
            {{item.name | localize}} <span class="num-noti">({{item.numNoti}})</span>
        </span>
        <span class="kt-menu__link-text" *ngIf="item.numNoti > 0 && item.countOutOfDate > 0">
            {{item.name | localize}} <span class="num-noti"><span class="outofdate">({{item.countOutOfDate}}</span>/ {{item.numNoti}})</span>
        </span> -->
        <span class="kt-menu__link-text" [ngStyle]="checkIcon(item.cssFormat)">
            {{item.name | localize}}
            <div *ngIf="item.numNoti > 0 && item.countOutOfDate < 1" class="num-container">
                <div class="total-container">
                    <a [routerLink]="[item.route]" [queryParams]="item.parameters" routerLinkActive="active" >{{item.numNoti}}</a>
                </div>
            </div>
            <!-- <span *ngIf="item.numNoti > 0 && item.countOutOfDate < 1" class="num-noti">{{item.numNoti}}</span> -->
            <div *ngIf="item.numNoti > 0 && item.countOutOfDate > 0" class="num-container num-noti">
                <div class="outofdate-container">
                    <a [routerLink]="[item.route + '/outdate']" [queryParams]="item.rawSql" class="outofdate" routerLinkActive="active" >{{item.countOutOfDate}}</a>
                </div>

                <div class="total-container">
                    <a [routerLink]="[item.route]" [queryParams]="item.rawSql" routerLinkActive="active" >{{item.numNoti}}</a>
                </div>
            </div>
            <!-- <a *ngIf="item.numNoti > 0 && item.countOutOfDate < 1" class="num-noti">({{item.numNoti}})</a>
            <a *ngIf="item.numNoti > 0 && item.countOutOfDate > 0" style="display: inline-block;" class="num-noti"><a class="outofdate">({{item.countOutOfDate}}</a><a>/{{item.numNoti}})</a></a> -->
        </span>
    </ng-container>

    <ng-template #mMenuLinkBadge>
        <!-- menu item with badge -->
        <span class="kt-menu__link-title">
            <span class="kt-menu__link-wrap">
                <span class="kt-menu__link-text" [ngStyle]="checkIcon(item.cssFormat)">
                {{item.name | localize}} <span *ngIf="item.numNoti > 0" class="num-noti" [ngStyle]="checkIcon(item.cssFormat)">{{item.numNoti}}</span>
        </span>
        <span class="kt-menu__link-badge">
                    <span class="kt-badge" [ngClass]="item.badge.type">{{item.badge.value}}</span>
        </span>
        </span>
        </span>
    </ng-template>

    <!-- if menu item has submenu child then put arrow icon -->
    <i *ngIf="item.items.length" class="kt-menu__ver-arrow la la-angle-right"></i>
</ng-template>
<!-- END: Left Aside -->
<!-- <script type="text/javascript">
    function mouseClick(e){
        // console.log(e);
    }
</script> -->

<style>
    .kt-aside.kt-aside--static.kt-grid__item.kt-grid.kt-grid--desktop.kt-grid--hor-desktop {
        width: 230px;
    }
</style>

